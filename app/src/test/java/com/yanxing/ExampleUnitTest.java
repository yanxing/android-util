package com.yanxing;

import android.text.TextUtils;

import com.yanxing.util.DESUtil;

import org.junit.Test;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

import static org.junit.Assert.*;


/**
 * To work on unit tests, switch the Test Artifact in the Build Variants view.
 */
public class ExampleUnitTest {
    @Test
    public void addition_isCorrect() throws Exception {
//        String test= DESUtil.decrypt("lKa+InqySfRYF3SJs7%2BzvkOzBaRZvJGLaAs5RFAOXlMmVM7YBPPRh9lxzxySWL6d");
//        System.out.println(test);
////        assertEquals(4, 2 + 2);^((1[3,5,8][0-9])|(14[0-9])|(17[0-9]))\d{8}$  [\w\p{InCJKUnifiedIdeographs}-]{1,26}
        String REGEX_URL_WEB = "http://(m\\.weibo\\.cn){1}(/\\w*)*";
//        String REGEX_URL_WEB="http://(t\\.cn){1}/\\w*";
//        String REGEX_URL_WEB = "http://[a-zA-Z0-9+&@#/%?=~_\\-|!:,\\.;]*[a-zA-Z0-9+&@#/%=~_|]";
//        assertEquals(4, 2 + 2);
        Pattern pattern=Pattern.compile("http://(m\\.weibo\\.cn){1}(/\\w*)*");
        Matcher matcher=pattern.matcher("日邮报》）...全文： http://m.weibo.cn/1806503894/4057624951927777");
        System.out.println(matcher.find());
    }

    @Test
    public void test(){
        float[] temp=new float[]{
                -0.008746386f,
                -0.010027415f,
                0.042158674f,
                -0.012868339f,
                0.02810216f,
                -0.028752565f,
                -0.047267947f,
                -0.06536531f,
                0.04443184f,
                -0.048228137f,
                0.04957715f,
                -0.014472135f,
                -0.041037675f,
                0.009533337f,
                -0.03640369f,
                -0.010957001f,
                -0.01198015f,
                0.008891323f,
                -0.03952422f,
                0.045853868f,
                -0.023054013f,
                0.023091247f,
                0.10232999f,
                0.014739669f,
                0.02194579f,
                -0.018020948f,
                0.016645428f,
                0.002174141f,
                0.03669005f,
                0.027365748f,
                -0.003113429f,
                -0.036546785f,
                -2.9794095E-4f,
                -0.040121254f,
                -0.014827211f,
                0.038629986f,
                -0.0037233785f,
                0.031377327f,
                -0.056046743f,
                -0.015856566f,
                0.021803703f,
                -0.05070344f,
                0.009164712f,
                -0.046217777f,
                0.07667491f,
                0.016184999f,
                0.00623093f,
                -0.026165776f,
                0.023091346f,
                0.022968229f,
                -6.385625E-4f,
                0.022121273f,
                0.06755289f,
                -0.06503356f,
                -0.020150922f,
                0.14060159f,
                0.03600335f,
                0.033805665f,
                0.006503436f,
                -0.012380832f,
                -0.008694622f,
                -0.08330343f,
                -0.026847025f,
                0.09374697f,
                0.020019442f,
                -0.02127391f,
                -0.028457189f,
                -0.08966001f,
                0.036243536f,
                0.07301604f,
                0.03474227f,
                0.06487268f,
                -0.027443416f,
                -0.0019901833f,
                -0.039660826f,
                -0.0010565411f,
                -0.027011525f,
                -0.020170404f,
                0.022790749f,
                0.02089595f,
                -0.08038885f,
                0.0053482293f,
                0.0026640173f,
                -0.0045862636f,
                -0.04472295f,
                0.0058272257f,
                0.03115427f,
                -0.019836282f,
                -0.011487704f,
                1.9615147E-5f,
                -0.02288718f,
                2.5124135E-4f,
                0.071721375f,
                0.009631742f,
                0.010178206f,
                -0.027802235f,
                -0.038703393f,
                -0.034857493f,
                -0.008973602f,
                -0.020464456f,
                -0.044671495f,
                0.011907124f,
                -0.0077291196f,
                -0.03712558f,
                0.074653134f,
                0.08045452f,
                -0.033720694f,
                -0.016266549f,
                -0.0016181747f,
                -0.025939444f,
                -0.08401869f,
                0.07913952f,
                -0.07311793f,
                0.02874573f,
                -0.02245119f,
                0.06307066f,
                -0.015735056f,
                0.003290431f,
                -0.02970059f,
                0.06100272f,
                -0.0031558722f,
                0.02293689f,
                -0.03111971f,
                -0.008372732f,
                -0.0086156335f,
                0.03567793f,
                0.01615642f,
                -0.08098275f,
                0.018101495f,
                -0.036668412f,
                -0.049050912f,
                0.001407548f,
                0.0010768976f,
                0.117492855f,
                0.06747573f,
                -0.07607292f,
                -0.02390422f,
                -0.022844035f,
                -0.013337637f,
                0.02491797f,
                -0.024536988f,
                0.056449033f,
                -0.084917456f,
                0.0366023f,
                -0.005884621f,
                -0.055910196f,
                -0.0660232f,
                0.0050688214f,
                -0.016085954f,
                0.07638707f,
                -0.009409925f,
                0.061662704f,
                -0.07028817f,
                -0.066319674f,
                -0.015102424f,
                0.049279075f,
                0.034358267f,
                -0.031128416f,
                -0.055710953f,
                -0.0038151727f,
                -0.04199816f,
                -0.0749292f,
                0.004531923f,
                -0.042061545f,
                -0.026372207f,
                -0.060031828f,
                4.1725445E-5f,
                -0.01211124f,
                0.069837265f,
                0.008230779f,
                0.016847147f,
                0.030703932f,
                -0.015143089f,
                0.0067070043f,
                -0.0048262062f,
                0.005557008f,
                0.052712467f,
                0.020357562f,
                -0.023682283f,
                -0.041013677f,
                -0.06171678f,
                0.04006169f,
                -0.041617896f,
                0.007735264f,
                0.044977512f,
                -0.08716366f,
                -0.0642798f,
                0.028759537f,
                0.0022032987f,
                0.038003586f,
                0.0100354245f,
                0.010321924f,
                0.014020441f,
                0.008655928f,
                -0.04893215f,
                -0.04653102f,
                -0.04381876f,
                0.03611027f,
                -0.019423652f,
                -0.04574893f,
                0.059360586f,
                -0.043843035f,
                -0.027016705f,
                0.041133802f,
                0.0066118976f,
                0.05892406f,
                -0.010537337f,
                0.074045464f,
                -0.03719849f,
                0.025840253f,
                -0.037880898f,
                -0.026765663f,
                -0.032707926f,
                0.04891207f,
                0.011301289f,
                0.027639044f,
                0.042946666f,
                -0.019921482f,
                0.016342992f,
                -0.00238327f,
                2.2097908E-4f,
                0.042784527f,
                0.015425667f,
                0.090617225f,
                -0.019106895f,
                0.067621976f,
                2.9981244E-4f,
                0.045783553f,
                -0.050021835f,
                0.053578928f,
                0.021692693f,
                0.05135386f,
                0.0059567504f,
                0.03287989f,
                0.0674681f,
                -0.0011924052f,
                0.048889425f,
                0.0986966f,
                -0.015388973f,
                -0.024468368f,
                0.0136646945f,
                0.0016232355f,
                0.029053414f,
                -0.062896326f,
                -0.059753515f,
                0.034340106f,
                -0.0036760091f,
                0.0027336276f,
                0.035148244f,
                -0.0038698534f,
                0.01121918f,
                -0.01759579f,
                0.04831343f,
                -0.040613744f,
                0.044487596f,
                0.020327589f,
                0.05017333f,
                0.12196957f,
                0.026903914f,
                0.015797537f,
                -0.039649364f,
                -0.060193308f,
                -0.039986305f,
                -0.007317664f,
                -0.06060346f,
                0.02889447f,
                -0.051168174f,
                0.038762055f,
                -0.054017566f,
                -0.019339563f,
                -0.042823777f,
                0.062488817f,
                0.004214099f,
                0.023688918f,
                0.066905506f,
                -0.0301387f,
                -0.032970533f,
                0.0847228f,
                0.004803194f,
                0.09875728f,
                0.028594447f,
                -0.032671332f,
                -0.052634183f,
                -0.068662286f,
                0.023057071f,
                0.02835132f,
                -0.03490356f,
                0.0032860646f,
                -0.044979084f,
                -0.032586217f,
                0.04900137f,
                -0.05288668f,
                -0.044425856f,
                -0.012773233f,
                -0.022870388f,
                0.06234604f,
                0.06648172f,
                0.022363368f,
                -0.07052244f,
                0.043760817f,
                0.01986355f,
                -0.06432085f,
                0.03196391f,
                0.017574962f,
                0.02563648f,
                0.09555884f,
                -0.032395273f,
                0.05353998f,
                -0.025875023f,
                0.00213515f,
                -0.03660094f,
                -0.02324606f,
                0.0543267f,
                0.03679753f,
                0.052210998f,
                0.08052316f,
                -0.01615204f,
                -0.03872597f,
                0.027166588f,
                -0.038037803f,
                0.06792188f,
                -0.0050164955f,
                -0.016370753f,
                -0.0023097892f,
                -0.11109306f,
                0.055258f,
                0.02823248f,
                0.031380277f,
                0.06175366f,
                0.03010319f,
                0.013575324f,
                0.007049353f,
                -0.067288384f,
                -0.051988363f,
                0.025588233f,
                0.03359164f,
                -0.053831045f,
                0.017809711f,
                0.03311167f,
                0.018864729f,
                0.002432953f,
                0.032196607f,
                -0.07803405f,
                0.030729214f,
                0.0803194f,
                -0.032187086f,
                0.03184846f,
                0.025423594f,
                0.0076680053f,
                0.07609359f,
                0.13296476f,
                0.090819605f,
                0.061457213f,
                0.00697023f,
                -0.064778715f,
                -0.036702942f,
                0.047752768f,
                -0.030220091f,
                0.0037288174f,
                0.01753546f,
                0.013473279f,
                0.06976395f,
                -0.012418623f,
                0.015463323f,
                0.03355516f,
                0.054934293f,
                0.06811066f,
                -0.034536157f,
                -0.027417567f,
                0.010201585f,
                0.048289858f,
                -0.002863777f,
                -0.032344922f,
                0.0012247439f,
                -0.049211066f,
                -0.0126351025f,
                -0.0112013f,
                0.08923671f,
                -0.01403713f,
                -0.0091087315f,
                -0.07512887f,
                0.032131072f,
                -0.005608402f,
                -0.043881863f,
                -0.007859839f,
                -0.05175536f,
                0.05955471f,
                0.063784f,
                0.035591092f,
                -0.0068801693f,
                -0.010506483f,
                -0.009801287f,
                0.0119240265f,
                0.06095342f,
                0.031120798f,
                0.073196374f,
                0.06086959f,
                -0.0914591f,
                0.008896167f,
                0.028629363f,
                -0.00712663f,
                -0.047396015f,
                0.07439317f,
                0.09106069f,
                -0.10431875f,
                -0.029955199f,
                -0.053427376f,
                -0.072797194f,
                -0.015500699f,
                -0.023414768f,
                -0.038605962f,
                -0.02388753f,
                0.04171574f,
                -0.034449898f,
                -0.013552614f,
                0.039139457f,
                -0.01130318f,
                -0.00145662f,
                -0.002718349f,
                -7.6476583E-4f,
                0.08747126f,
                0.017014595f,
                -0.020920051f,
                -0.0705276f,
                -0.07055131f,
                0.02733079f,
                0.09239923f,
                -0.055912837f,
                0.07786648f,
                -0.030867802f,
                -0.043977577f,
                -0.011161048f,
                -0.011513026f,
                0.025630351f,
                0.0010117502f,
                -0.07958041f,
                -0.0065172743f,
                -0.009844864f,
                -5.712959E-4f,
                0.0138743445f,
                0.07392412f,
                -0.05770066f,
                0.023499394f,
                0.01161914f,
                -0.041924525f,
                -0.0858862f,
                -0.016699996f,
                0.14458913f,
                -0.02616845f,
                0.0038186857f,
                -0.05421453f,
                -5.9335923E-4f,
                0.012407565f,
                0.038480703f,
                0.042585053f,
                -0.013776502f,
                0.022440754f,
                0.015127099f,
                5.1698793E-4f,
                0.007027693f,
                0.074148804f,
                -0.0016238829f,
                0.011202107f,
                0.051137432f,
                0.055182796f,
                -0.023953754f,
                0.05997077f,
                0.0101504f,
                -0.084292874f,
                -0.07382184f,
                -0.014755063f,
                -0.022944584f,
                -0.016065873f,
                -0.004521114f,
                -0.023977224f,
                0.05944609f,
                0.051646f,
                -0.021880325f,
                -0.028929554f,
                -0.088518634f,
                0.04384418f,
                -0.08819246f,
                -0.01726751f,
                0.0036260504f,
                -0.07488349f,
                0.01237329f,
                -0.041516874f,
                0.010518152f,
                -0.030039134f,
                0.048055366f,
                -0.028050227f,
                0.07703527f,
                -0.013120977f,
                0.053462103f,
                0.00411425f,
                -0.0022816204f,
                -0.04913181f,
                0.059418645f,
                -0.0095665855f,
                -0.027163925f,
                -0.011662416f,
                0.02661727f,
                -0.019165028f,
                -0.086273365f,
                0.015395655f,
                -0.019460287f,
                -0.01249381f,
                -0.08151616f,
                0.015780855f,
                -0.02153975f,
                0.013501766f,
                -0.017813094f
        };


           String teStr=floatArrayToString(temp);
           String temDEStr=DESUtil.encrypt(teStr);

            System.out.println(temDEStr);

            String temDEStrDE=DESUtil.decrypt(temDEStr);

            float[] f=byteArrayToFloatArray(temDEStrDE);

            boolean b=true;
            for (int i=0;i<f.length;i++){
                if (f[i]!=temp[i]){
                    b=false;
                    System.out.println("数据不一致"+f[i]+"   "+temp[i]);
                }
            }
            System.out.println(b);


    }

    public  float[] byteArrayToFloatArray(String dataString) {
/*        try {
            byte[] data = dataString.getBytes("UTF-16BE");
            ByteArrayInputStream bas = new ByteArrayInputStream(data);
            DataInputStream ds = new DataInputStream(bas);
            float[] fArr = new float[data.length / 4];
            for (int i = 0; i < fArr.length; i++) {
                fArr[i] = ds.readFloat();
            }
            return fArr;
        } catch (IOException e) {
            e.printStackTrace();
        }
        return new float[]{};*/
        String[] split = dataString.split(",");
        float[] temp = new float[split.length];
        for (int i = 0; i < split.length; i++) {
            temp[i] = Float.parseFloat(split[i]);
        }
        return temp;
    }

    public  String floatArrayToString(float[] data) {
/*        ByteArrayOutputStream out = new ByteArrayOutputStream();
        DataOutputStream dataOutputStream = new DataOutputStream(out);
        for (int i = 0; i < data.length; i++) {
            try {
                dataOutputStream.writeFloat(data[i]);
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        try {
            return out.toString("UTF-16BE");
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }*/
        //上面有些数据会丢精度,data是小数点9位
        StringBuilder sb=new StringBuilder();
        for (int i=0;i<data.length;i++){
            if (i==data.length-1){
                sb.append(data[i]);
            }else {
                sb.append(data[i]).append(",");
            }
        }
        return sb.toString();
    }

}